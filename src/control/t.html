<!--
        Adicionar o Código ao functions.php:
        Abra o arquivo functions.php do seu tema.
        Adicione o seguinte código ao final do arquivo ou em uma posição apropriada:

        function enqueue_ad_script() {
            wp_enqueue_script('google-ads', 'https://securepubads.g.doubleclick.net/tag/js/gpt.js', array(), null, true);
            wp_enqueue_script('ad-script', get_template_directory_uri() . '/js/ad-script.js', array('google-ads'), null, true);
        }
        add_action('wp_enqueue_scripts', 'enqueue_ad_script');
-->

<!doctype html>
<!--
 @license
 Copyright 2022 Google LLC. All Rights Reserved.
 SPDX-License-Identifier: Apache-2.0
-->
<!doctype html>
<!--
 @license
 Copyright 2022 Google LLC. All Rights Reserved.
 SPDX-License-Identifier: Apache-2.0
-->
<!doctype html>
<!--
 @license
 Copyright 2022 Google LLC. All Rights Reserved.
 SPDX-License-Identifier: Apache-2.0
-->
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Use GPT to dynamically reload ads." />
    <title>Refresh ad slots</title>
    <script
      async
      src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"
      crossorigin="anonymous"
    ></script>
    <script>
      window.googletag = window.googletag || { cmd: [] };

      let adSlot1;
      let adSlot2;

      let refreshCount1 = 0;
      let refreshCount2 = 0;

      googletag.cmd.push(() => {
        // Define the first slot.
        adSlot1 = googletag
          .defineSlot("/6355419/Travel", [728, 90], "leaderboard1")
          .setTargeting("test", "refresh")
          .addService(googletag.pubads());

        // Define the second slot.
        adSlot2 = googletag
          .defineSlot("/6355419/Travel", [728, 90], "leaderboard2")
          .setTargeting("test", "refresh")
          .addService(googletag.pubads());

        // Enable SRA and services.
        googletag.pubads().enableSingleRequest();
        
        // Enable lazy loading
        googletag.pubads().enableLazyLoad({
          fetchMarginPercent: 200,
          renderMarginPercent: 50,
          mobileScaling: 2.0 
        });

        googletag.enableServices();
      });

      function refreshFirstSlot() {
        googletag.cmd.push(() => {
          googletag.pubads().refresh([adSlot1]);
          refreshCount1++;
          console.log(`First slot refreshed ${refreshCount1} times`);
        });
      }

      function refreshSecondSlot() {
        googletag.cmd.push(() => {
          googletag.pubads().refresh([adSlot2]);
          refreshCount2++;
          console.log(`Second slot refreshed ${refreshCount2} times`);
        });
      }

      // Button action which refreshes all slots
      function refreshAllSlots() {
        googletag.cmd.push(() => {
          googletag.pubads().refresh();
          refreshCount1++;
          refreshCount2++;
          console.log(`All slots refreshed. First slot: ${refreshCount1} times, Second slot: ${refreshCount2} times`);
        });
      }

      // Set interval to refresh all slots every 10 seconds
      setInterval(refreshAllSlots, 10000);
    </script>
    <style></style>
  </head>
  <body>
    <div>
      <h1>GPT Training - Slot Refresh</h1>
      <div id="leaderboard1" style="width: 728px; height: 90px"></div>
      <div id="leaderboard2" style="width: 728px; height: 90px"></div>
    </div>
    <script>
      googletag.cmd.push(function () {
        googletag.display("leaderboard1");
        googletag.display("leaderboard2");
      });
    </script>
  </body>
</html>